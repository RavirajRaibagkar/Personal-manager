module.exports=[52519,a=>{"use strict";let b=(0,a.i(64375).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],52519)},64397,a=>{"use strict";let b=(0,a.i(64375).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],64397)},34335,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(81462),g=a.i(93901),h=a.i(46032),i=a.i(14619),j=a.i(52519),k=a.i(64397),l=a.i(15016),m=a.i(78856),n=a.i(12147),o=a.i(33203),p=a.i(99856),q=a.i(53173),r=b([f,p,q]);function s(){let a=(0,q.useAuth)(),b=a?.user,[c,r]=(0,e.useState)([]),[s,u]=(0,e.useState)(!0),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)({amount:"",type:"expense",category:"Food",note:"",date:new Date().toISOString().split("T")[0]}),z="expense"===x.type?["Food","Transport","Entertainment","Bills","Shopping","Health","Education","Rent","Other"]:["Salary","Freelance","Investment","Gift","Refund","Other"];(0,e.useEffect)(()=>{A()},[]);let A=async()=>{let{data:a}=await f.supabase.from("expenses").select("*").order("date",{ascending:!1});a&&r(a),u(!1)},B=async a=>{if(a.preventDefault(),!b)return;let{error:c}=await f.supabase.from("expenses").insert([{...x,amount:parseFloat(x.amount),user_id:b.id}]);c||(w(!1),y({amount:"",type:"expense",category:"Food",note:"",date:new Date().toISOString().split("T")[0]}),A())},C=async a=>{let{error:b}=await f.supabase.from("expenses").delete().eq("id",a);b||A()},D=c.reduce((a,b)=>("income"===b.type?a.income+=Number(b.amount):a.expenses+=Number(b.amount),a),{income:0,expenses:0});return(0,d.jsxs)("div",{className:"space-y-6 max-w-full overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Finances"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Monitor your income and expenses."})]}),(0,d.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl font-semibold hover:bg-primary/90 transition-all shadow-lg shadow-primary/20 active:scale-95",children:[(0,d.jsx)(g.Plus,{size:20}),"Add Record"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)(t,{title:"Total Income",value:(0,p.formatCurrency)(D.income),icon:n.ArrowUpCircle,color:"text-emerald-500 bg-emerald-500/10"}),(0,d.jsx)(t,{title:"Total Expenses",value:(0,p.formatCurrency)(D.expenses),icon:o.ArrowDownCircle,color:"text-red-500 bg-red-500/10"}),(0,d.jsx)(t,{title:"Balance",value:(0,p.formatCurrency)(D.income-D.expenses),icon:m.Wallet,color:"text-primary bg-primary/10"})]}),v&&(0,d.jsx)("div",{className:"bg-card p-4 md:p-6 rounded-2xl border border-border shadow-xl animate-in fade-in zoom-in duration-200",children:(0,d.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex p-1 bg-muted rounded-xl w-full max-w-[300px]",children:[(0,d.jsx)("button",{type:"button",onClick:()=>y({...x,type:"expense",category:"Food"}),className:(0,p.cn)("flex-1 py-2 text-sm font-bold rounded-lg transition-all","expense"===x.type?"bg-card text-red-500 shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Expense"}),(0,d.jsx)("button",{type:"button",onClick:()=>y({...x,type:"income",category:"Salary"}),className:(0,p.cn)("flex-1 py-2 text-sm font-bold rounded-lg transition-all","income"===x.type?"bg-card text-emerald-500 shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Income"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Amount"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(j.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),(0,d.jsx)("input",{type:"number",step:"0.01",required:!0,value:x.amount,onChange:a=>y({...x,amount:a.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all font-bold",placeholder:"0.00"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,d.jsx)("select",{value:x.category,onChange:a=>y({...x,category:a.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",children:z.map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Date"}),(0,d.jsx)("input",{type:"date",required:!0,value:x.date,onChange:a=>y({...x,date:a.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Note"}),(0,d.jsx)("input",{value:x.note,onChange:a=>y({...x,note:a.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",placeholder:"Optional description..."})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[(0,d.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-2.5 text-muted-foreground hover:bg-accent rounded-xl transition-all font-medium",children:"Cancel"}),(0,d.jsxs)("button",{type:"submit",className:(0,p.cn)("px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-md active:scale-95","expense"===x.type?"bg-red-500 hover:bg-red-600":"bg-emerald-500 hover:bg-emerald-600"),children:["Save ",x.type]})]})]})}),(0,d.jsxs)("div",{className:"bg-card rounded-2xl border border-border shadow-sm overflow-hidden",children:[(0,d.jsx)("div",{className:"hidden md:block",children:(0,d.jsxs)("table",{className:"w-full text-left",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-muted/50 border-b border-border text-xs font-black uppercase tracking-widest text-muted-foreground",children:[(0,d.jsx)("th",{className:"px-6 py-4",children:"Date"}),(0,d.jsx)("th",{className:"px-6 py-4",children:"Category"}),(0,d.jsx)("th",{className:"px-6 py-4",children:"Note"}),(0,d.jsx)("th",{className:"px-6 py-4 text-right",children:"Amount"}),(0,d.jsx)("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-border",children:s?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground",children:"Loading..."})}):0===c.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground text-sm italic",children:"No transactions recorded yet."})}):c.map(a=>(0,d.jsxs)("tr",{className:"hover:bg-accent/30 transition-all group",children:[(0,d.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,p.formatDate)(a.date)}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsx)("span",{className:(0,p.cn)("inline-flex items-center gap-1.5 px-3 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider border","income"===a.type?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"),children:a.category})}),(0,d.jsx)("td",{className:"px-6 py-4 text-sm text-muted-foreground truncate block max-w-[200px]",children:a.note||"-"}),(0,d.jsx)("td",{className:"px-6 py-4 text-right",children:(0,d.jsxs)("div",{className:(0,p.cn)("text-sm font-black flex items-center justify-end gap-1.5","income"===a.type?"text-emerald-500":"text-red-500"),children:["income"===a.type?(0,d.jsx)(l.TrendingUp,{size:14}):(0,d.jsx)(k.TrendingDown,{size:14}),(0,p.formatCurrency)(a.amount)]})}),(0,d.jsx)("td",{className:"px-6 py-4 text-right",children:(0,d.jsx)("button",{onClick:()=>C(a.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-lg transition-all",children:(0,d.jsx)(h.Trash2,{size:16})})})]},a.id))})]})}),(0,d.jsx)("div",{className:"md:hidden divide-y divide-border",children:s?(0,d.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm font-bold",children:"Loading..."}):0===c.length?(0,d.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm italic",children:"No transactions yet."}):c.map(a=>(0,d.jsxs)("div",{className:"p-4 flex items-center justify-between gap-4 hover:bg-accent/10 transition-colors",children:[(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:(0,p.cn)("text-[10px] font-black uppercase tracking-widest mb-0.5 px-2 py-0.5 rounded-full border self-start","income"===a.type?"text-emerald-500 border-emerald-500/20 bg-emerald-500/10":"text-red-500 border-red-500/20 bg-red-500/10"),children:a.category}),(0,d.jsxs)("span",{className:"text-[11px] text-muted-foreground font-medium flex items-center gap-1 mt-1",children:[(0,d.jsx)(i.Calendar,{size:10}),(0,p.formatDate)(a.date)]}),a.note&&(0,d.jsx)("p",{className:"text-xs text-foreground/70 mt-1 truncate max-w-[150px]",children:a.note})]})}),(0,d.jsxs)("div",{className:"text-right flex flex-col items-end gap-2 shrink-0",children:[(0,d.jsxs)("div",{className:(0,p.cn)("text-sm font-black flex items-center gap-1","income"===a.type?"text-emerald-500":"text-red-500"),children:["income"===a.type?"+":"-"," ",(0,p.formatCurrency)(a.amount)]}),(0,d.jsx)("button",{onClick:()=>C(a.id),className:"p-1.5 text-muted-foreground active:text-destructive active:bg-destructive/10 rounded-lg transition-all",children:(0,d.jsx)(h.Trash2,{size:14})})]})]},a.id))})]})]})}function t({title:a,value:b,icon:c,color:e}){return(0,d.jsxs)("div",{className:"bg-card p-4 rounded-2xl border border-border flex items-center gap-3 transition-all",children:[(0,d.jsx)("div",{className:(0,p.cn)("p-2 rounded-xl shrink-0 scale-90 md:scale-100",e),children:(0,d.jsx)(c,{size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-[10px] md:text-xs font-black text-muted-foreground uppercase tracking-wider mb-0.5",children:a}),(0,d.jsx)("h4",{className:"text-lg md:text-xl font-black tracking-tight",children:b})]})]})}[f,p,q]=r.then?(await r)():r,a.s(["default",()=>s]),c()}catch(a){c(a)}},!1),14582,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(39141),h=a.i(6555),i=a.i(34335),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/Expenses",pathname:"/Expenses",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/Expenses",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_3581a80d._.js.map