{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/pages/ParentDashboard.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n    Users,\r\n    Activity,\r\n    CheckCircle2,\r\n    Wallet,\r\n    Calendar,\r\n    ArrowRight,\r\n    Search,\r\n    Loader2,\r\n    Shield,\r\n    Bell,\r\n    Settings,\r\n    Eye,\r\n    TrendingUp,\r\n    Layout,\r\n    Utensils,\r\n    Clock\r\n} from 'lucide-react';\r\nimport { cn, formatCurrency, formatDate } from '../lib/utils';\r\n\r\ninterface ChildProfile {\r\n    id: string;\r\n    full_name: string;\r\n}\r\n\r\ninterface ChildStats {\r\n    totalIncome: number;\r\n    totalExpenses: number;\r\n    activeTasks: number;\r\n    completionRate: number;\r\n    mealsToday: number;\r\n}\r\n\r\nexport default function ParentDashboard() {\r\n    const { user } = useAuth();\r\n    const [children, setChildren] = useState<ChildProfile[]>([]);\r\n    const [selectedChild, setSelectedChild] = useState<string | null>(null);\r\n    const [childStats, setChildStats] = useState<ChildStats | null>(null);\r\n    const [recentExpenses, setRecentExpenses] = useState<any[]>([]);\r\n    const [recentTasks, setRecentTasks] = useState<any[]>([]);\r\n    const [recentMeals, setRecentMeals] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (user) fetchChildren();\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if (selectedChild) fetchChildStats(selectedChild);\r\n    }, [selectedChild]);\r\n\r\n    const fetchChildren = async () => {\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('family_links')\r\n                .select('child_id, profiles:child_id (id, full_name)')\r\n                .eq('parent_id', user?.id);\r\n\r\n            if (error) throw error;\r\n\r\n            const linked = data.map((item: any) => ({\r\n                id: item.profiles.id,\r\n                full_name: item.profiles.full_name\r\n            }));\r\n\r\n            setChildren(linked);\r\n            if (linked.length > 0 && !selectedChild) setSelectedChild(linked[0].id);\r\n        } catch (err: any) {\r\n            console.error('Error:', err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchChildStats = async (childId: string) => {\r\n        try {\r\n            const [\r\n                { data: expenses },\r\n                { data: tasks },\r\n                { data: meals },\r\n                { count: mealsCount }\r\n            ] = await Promise.all([\r\n                supabase.from('expenses').select('*').eq('user_id', childId).order('date', { ascending: false }).limit(5),\r\n                supabase.from('tasks').select('*').eq('user_id', childId).order('created_at', { ascending: false }).limit(5),\r\n                supabase.from('meals').select('*').eq('user_id', childId).order('timestamp', { ascending: false }).limit(5),\r\n                supabase.from('meals').select('*', { count: 'exact', head: true }).eq('user_id', childId).gte('timestamp', new Date().toISOString().split('T')[0])\r\n            ]);\r\n\r\n            const { data: allExpenses } = await supabase.from('expenses').select('amount, type').eq('user_id', childId);\r\n            const { data: allTasks } = await supabase.from('tasks').select('status').eq('user_id', childId);\r\n\r\n            const totalInc = allExpenses?.filter(e => e.type === 'income').reduce((sum, e) => sum + Number(e.amount), 0) || 0;\r\n            const totalExp = allExpenses?.filter(e => e.type === 'expense').reduce((sum, e) => sum + Number(e.amount), 0) || 0;\r\n            const completed = allTasks?.filter(t => t.status === 'done').length || 0;\r\n\r\n            setChildStats({\r\n                totalIncome: totalInc,\r\n                totalExpenses: totalExp,\r\n                activeTasks: (allTasks?.length || 0) - completed,\r\n                completionRate: allTasks?.length ? Math.round((completed / allTasks.length) * 100) : 0,\r\n                mealsToday: mealsCount || 0\r\n            });\r\n\r\n            setRecentExpenses(expenses || []);\r\n            setRecentTasks(tasks || []);\r\n            setRecentMeals(meals || []);\r\n        } catch (err: any) {\r\n            console.error('Error fetching stats:', err.message);\r\n        }\r\n    };\r\n\r\n    const handleLinkChild = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError(null);\r\n        try {\r\n            // Link directly via UUID provided by child\r\n            const { data: child, error: searchError } = await supabase\r\n                .from('profiles')\r\n                .select('id, role')\r\n                .eq('id', searchQuery.trim())\r\n                .eq('role', 'child')\r\n                .maybeSingle();\r\n\r\n            if (searchError) throw searchError;\r\n\r\n            if (!child) {\r\n                throw new Error('Invalid Family ID. Please check the ID provided by the child.');\r\n            }\r\n\r\n            const { error: linkError } = await supabase\r\n                .from('family_links')\r\n                .insert([{ parent_id: user?.id, child_id: child.id }]);\r\n\r\n            if (linkError) {\r\n                if (linkError.code === '23505') throw new Error('Account already linked.');\r\n                throw new Error('Connection failed. Please ensure the ID is correct.');\r\n            }\r\n\r\n            setSearchQuery('');\r\n            fetchChildren();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    if (loading) return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#020617] text-indigo-500\">\r\n            <Loader2 className=\"animate-spin mb-4\" size={48} />\r\n            <p className=\"font-bold tracking-widest text-sm uppercase\">Synchronizing Guardian Data</p>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#020617] text-white p-4 md:p-8 selection:bg-indigo-500/30\">\r\n            {/* Header */}\r\n            <header className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-2 text-indigo-400 font-bold tracking-widest text-xs uppercase\">\r\n                        <Shield size={14} />\r\n                        Active Monitoring Session\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-black tracking-tight\">Guardian Oversight</h1>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"relative group\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-indigo-400 transition-colors\" size={18} />\r\n                        <form onSubmit={handleLinkChild}>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Paste Family ID here...\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 bg-slate-900 border border-slate-800 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all w-full md:w-64 text-sm\"\r\n                            />\r\n                        </form>\r\n                    </div>\r\n                    <button className=\"p-3 bg-slate-900 border border-slate-800 rounded-2xl text-slate-400 hover:text-white transition-colors relative\">\r\n                        <Bell size={20} />\r\n                        <span className=\"absolute top-2 right-2 w-2 h-2 bg-indigo-500 rounded-full\"></span>\r\n                    </button>\r\n                    <button className=\"p-3 bg-slate-900 border border-slate-800 rounded-2xl text-slate-400 hover:text-white transition-colors\">\r\n                        <Settings size={20} />\r\n                    </button>\r\n                </div>\r\n            </header>\r\n\r\n            {error && (\r\n                <div className=\"p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-medium mb-8 animate-in slide-in-from-top-2\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\r\n                {/* Sidebar: Family Registry */}\r\n                <div className=\"lg:col-span-3 space-y-6\">\r\n                    <div className=\"flex items-center justify-between px-2\">\r\n                        <h3 className=\"text-xs font-bold uppercase tracking-widest text-slate-500\">Registry</h3>\r\n                        <Users size={16} className=\"text-slate-600\" />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-3\">\r\n                        {children.length === 0 ? (\r\n                            <div className=\"p-8 text-center bg-slate-900/40 border border-dashed border-slate-800 rounded-3xl\">\r\n                                <p className=\"text-slate-500 text-sm\">No accounts linked.</p>\r\n                            </div>\r\n                        ) : (\r\n                            children.map((child) => (\r\n                                <button\r\n                                    key={child.id}\r\n                                    onClick={() => setSelectedChild(child.id)}\r\n                                    className={cn(\r\n                                        \"w-full flex items-center justify-between p-5 rounded-3xl border transition-all group relative overflow-hidden\",\r\n                                        selectedChild === child.id\r\n                                            ? \"bg-indigo-600 border-indigo-500 text-white shadow-xl shadow-indigo-600/20\"\r\n                                            : \"bg-slate-900 border-slate-800 hover:border-slate-700 text-slate-400 hover:text-white\"\r\n                                    )}\r\n                                >\r\n                                    <div className=\"flex items-center gap-4 relative z-10\">\r\n                                        <div className={cn(\r\n                                            \"w-12 h-12 rounded-2xl flex items-center justify-center font-black text-xl shadow-inner\",\r\n                                            selectedChild === child.id ? \"bg-white/20\" : \"bg-slate-800 text-indigo-400\"\r\n                                        )}>\r\n                                            {child.full_name[0].toUpperCase()}\r\n                                        </div>\r\n                                        <div className=\"text-left\">\r\n                                            <p className=\"font-black tracking-tight\">{child.full_name}</p>\r\n                                            <p className={cn(\"text-[10px] font-bold uppercase tracking-wider\", selectedChild === child.id ? \"text-indigo-200\" : \"text-slate-600\")}>Monitored</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <ArrowRight size={20} className={cn(\r\n                                        \"transition-transform relative z-10\",\r\n                                        selectedChild === child.id ? \"translate-x-0 opacity-100\" : \"translate-x-4 opacity-0\"\r\n                                    )} />\r\n                                </button>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Main: Monitoring View */}\r\n                <div className=\"lg:col-span-9 space-y-8\">\r\n                    {selectedChild && childStats ? (\r\n                        <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500\">\r\n                            {/* Visual Stats Grid - Improved for Mobile Wrapping */}\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 md:gap-6\">\r\n                                <MonitorCard title=\"Current Balance\" value={formatCurrency(childStats.totalIncome - childStats.totalExpenses)} icon={Activity} color=\"text-indigo-400\" bg=\"bg-indigo-400/10\" />\r\n                                <MonitorCard title=\"Financials\" value={formatCurrency(childStats.totalExpenses)} icon={Wallet} color=\"text-rose-500\" bg=\"bg-rose-500/10\" />\r\n                                <MonitorCard title=\"Tasks\" value={childStats.activeTasks.toString()} icon={CheckCircle2} color=\"text-sky-500\" bg=\"bg-sky-500/10\" />\r\n                                <MonitorCard title=\"Efficiency\" value={`${childStats.completionRate}%`} icon={TrendingUp} color=\"text-emerald-500\" bg=\"bg-emerald-500/10\" />\r\n                                <MonitorCard title=\"Meals Today\" value={childStats.mealsToday.toString()} icon={Calendar} color=\"text-amber-500\" bg=\"bg-amber-500/10\" />\r\n                            </div>\r\n\r\n                            {/* Detailed Lists Grid */}\r\n                            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\r\n                                {/* Recent Expenses */}\r\n                                <div className=\"bg-slate-900/50 border border-slate-800 rounded-[2.5rem] p-8\">\r\n                                    <div className=\"flex items-center gap-3 mb-6\">\r\n                                        <div className=\"w-10 h-10 bg-rose-500/20 rounded-2xl flex items-center justify-center text-rose-500\">\r\n                                            <Wallet size={20} />\r\n                                        </div>\r\n                                        <h3 className=\"text-xl font-black\">Recent Expenses</h3>\r\n                                    </div>\r\n                                    <div className=\"space-y-4\">\r\n                                        {recentExpenses.length === 0 ? (\r\n                                            <p className=\"text-slate-500 text-sm italic\">No recent expenses logged.</p>\r\n                                        ) : (\r\n                                            recentExpenses.map((exp) => (\r\n                                                <div key={exp.id} className=\"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800/50\">\r\n                                                    <div>\r\n                                                        <p className=\"font-bold text-slate-200\">{exp.description}</p>\r\n                                                        <p className=\"text-[10px] text-slate-500 uppercase font-black tracking-widest\">{exp.category} â€¢ {formatDate(exp.date)}</p>\r\n                                                    </div>\r\n                                                    <span className={cn(\"font-black\", exp.type === 'income' ? 'text-emerald-500' : 'text-rose-500')}>\r\n                                                        {exp.type === 'income' ? '+' : '-'}{formatCurrency(exp.amount)}\r\n                                                    </span>\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Recent Tasks */}\r\n                                <div className=\"bg-slate-900/50 border border-slate-800 rounded-[2.5rem] p-8\">\r\n                                    <div className=\"flex items-center gap-3 mb-6\">\r\n                                        <div className=\"w-10 h-10 bg-sky-500/20 rounded-2xl flex items-center justify-center text-sky-500\">\r\n                                            <CheckCircle2 size={20} />\r\n                                        </div>\r\n                                        <h3 className=\"text-xl font-black\">Recent Tasks</h3>\r\n                                    </div>\r\n                                    <div className=\"space-y-4\">\r\n                                        {recentTasks.length === 0 ? (\r\n                                            <p className=\"text-slate-500 text-sm italic\">No tasks assigned.</p>\r\n                                        ) : (\r\n                                            recentTasks.map((task) => (\r\n                                                <div key={task.id} className=\"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800/50\">\r\n                                                    <div>\r\n                                                        <p className=\"font-bold text-slate-200\">{task.title}</p>\r\n                                                        <div className=\"flex items-center gap-2\">\r\n                                                            <span className={cn(\r\n                                                                \"text-[8px] px-2 py-0.5 rounded-full font-black uppercase tracking-widest\",\r\n                                                                task.status === 'done' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-amber-500/20 text-amber-400'\r\n                                                            )}>\r\n                                                                {task.status}\r\n                                                            </span>\r\n                                                            <span className=\"text-[10px] text-slate-500 font-bold uppercase tracking-widest\">\r\n                                                                {task.priority} Priority\r\n                                                            </span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"text-right\">\r\n                                                        <p className=\"text-[10px] text-slate-500 font-black uppercase tracking-widest\">Due</p>\r\n                                                        <p className=\"text-xs font-bold text-slate-300\">{formatDate(task.due_date)}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Recent Meals */}\r\n                                <div className=\"bg-slate-900/50 border border-slate-800 rounded-[2.5rem] p-8 xl:col-span-2\">\r\n                                    <div className=\"flex items-center gap-3 mb-6\">\r\n                                        <div className=\"w-10 h-10 bg-amber-500/20 rounded-2xl flex items-center justify-center text-amber-500\">\r\n                                            <Utensils size={20} />\r\n                                        </div>\r\n                                        <h3 className=\"text-xl font-black\">Nutrition Logs</h3>\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                        {recentMeals.length === 0 ? (\r\n                                            <p className=\"text-slate-500 text-sm italic col-span-full\">No meals logged recently.</p>\r\n                                        ) : (\r\n                                            recentMeals.map((meal) => (\r\n                                                <div key={meal.id} className=\"p-5 bg-slate-950/50 rounded-2xl border border-slate-800/50\">\r\n                                                    <div className=\"flex items-center justify-between mb-2\">\r\n                                                        <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-amber-500\">{meal.type}</span>\r\n                                                        <Clock size={12} className=\"text-slate-600\" />\r\n                                                    </div>\r\n                                                    <p className=\"font-black text-slate-200 mb-1\">{meal.description}</p>\r\n                                                    <p className=\"text-[10px] text-slate-500 font-bold uppercase tracking-widest\">{formatDate(meal.timestamp)}</p>\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Detailed Activity View */}\r\n                            <div className=\"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-[2.5rem] p-8 relative overflow-hidden\">\r\n                                <div className=\"absolute top-0 right-0 p-8 opacity-5\">\r\n                                    <Eye size={200} className=\"text-indigo-500\" />\r\n                                </div>\r\n                                <div className=\"flex items-center gap-4 mb-10\">\r\n                                    <div className=\"w-14 h-14 bg-indigo-500/20 rounded-[1.25rem] flex items-center justify-center text-indigo-400 shadow-lg shadow-indigo-500/10\">\r\n                                        <TrendingUp size={28} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"text-3xl font-black tracking-tight\">Account Insight</h3>\r\n                                        <p className=\"text-slate-500 font-bold uppercase tracking-widest text-[10px]\">Registry ID: {selectedChild.slice(0, 8)}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                                    <MetricBox label=\"Reliability\" value=\"High\" status=\"Stable\" icon={Shield} />\r\n                                    <MetricBox label=\"Engagement\" value=\"Active\" status=\"Current\" icon={Activity} />\r\n                                    <MetricBox label=\"Risk Profile\" value=\"Secure\" status=\"Verified\" icon={CheckCircle2} color=\"text-emerald-400\" />\r\n                                </div>\r\n\r\n                                <div className=\"mt-12 p-12 bg-slate-950/50 rounded-[2rem] border border-slate-800/50 text-center relative z-10 backdrop-blur-sm\">\r\n                                    <Layout className=\"mx-auto mb-6 text-slate-700\" size={48} />\r\n                                    <p className=\"text-slate-400 text-lg font-medium mb-6\">Live stream for <span className=\"text-white font-bold\">{children.find(c => c.id === selectedChild)?.full_name}</span> is active and secure.</p>\r\n                                    <button className=\"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-black text-xs tracking-[0.2em] uppercase rounded-full shadow-lg shadow-indigo-600/20 transition-all hover:scale-105 active:scale-95\">\r\n                                        Download Security Audit\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"h-[60vh] flex flex-col items-center justify-center text-center p-12 bg-slate-900/10 border-4 border-dashed border-slate-900/50 rounded-[4rem]\">\r\n                            <Shield size={80} className=\"text-slate-800 mb-8 animate-pulse\" />\r\n                            <h3 className=\"text-4xl font-black text-slate-800 mb-4 tracking-tighter\">Selection Required</h3>\r\n                            <p className=\"text-slate-600 max-w-sm text-lg font-medium\">Please select a profile from the registry to initialize the monitoring interface.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MonitorCard({ title, value, icon: Icon, color, bg }: any) {\r\n    return (\r\n        <div className=\"bg-slate-900 border border-slate-800 p-8 rounded-[2rem] group hover:border-indigo-500/50 transition-all duration-500 hover:shadow-2xl hover:shadow-indigo-500/5 hover:-translate-y-1\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n                <div className={cn(\"w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transform group-hover:rotate-12 transition-transform\", bg, color)}>\r\n                    <Icon size={28} />\r\n                </div>\r\n                <div className=\"px-4 py-1 bg-white/5 rounded-full text-[10px] font-black tracking-[0.2em] uppercase text-slate-500 border border-white/5\">Signal: 100%</div>\r\n            </div>\r\n            <div>\r\n                <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2\">{title}</p>\r\n                <h4 className=\"text-4xl font-black tracking-tighter text-white group-hover:text-indigo-400 transition-colors\">{value}</h4>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MetricBox({ label, value, status, icon: Icon, color = \"text-indigo-400\" }: any) {\r\n    return (\r\n        <div className=\"bg-slate-950/40 p-8 rounded-[2rem] border border-slate-800/30 group hover:bg-slate-950/60 transition-colors\">\r\n            <div className=\"flex items-center gap-3 mb-4 text-slate-600 group-hover:text-indigo-500 transition-colors\">\r\n                <Icon size={16} />\r\n                <p className=\"text-[10px] font-black uppercase tracking-[0.2em]\">{label}</p>\r\n            </div>\r\n            <div className=\"flex items-baseline gap-2\">\r\n                <span className={cn(\"text-3xl font-black tracking-tighter\", color)}>{value}</span>\r\n                <span className=\"text-[10px] font-bold text-slate-600 uppercase tracking-[0.1em]\">/ {status}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAtBA;;;;;;;AAqCe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IAC3D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAoB;IAChE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACN,IAAI,MAAM;IACd,GAAG;QAAC;KAAK;IAET,IAAA,kNAAS,EAAC;QACN,IAAI,eAAe,gBAAgB;IACvC,GAAG;QAAC;KAAc;IAElB,MAAM,gBAAgB;QAClB,IAAI;YACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACjC,IAAI,CAAC,gBACL,MAAM,CAAC,+CACP,EAAE,CAAC,aAAa,MAAM;YAE3B,IAAI,OAAO,MAAM;YAEjB,MAAM,SAAS,KAAK,GAAG,CAAC,CAAC,OAAc,CAAC;oBACpC,IAAI,KAAK,QAAQ,CAAC,EAAE;oBACpB,WAAW,KAAK,QAAQ,CAAC,SAAS;gBACtC,CAAC;YAED,YAAY;YACZ,IAAI,OAAO,MAAM,GAAG,KAAK,CAAC,eAAe,iBAAiB,MAAM,CAAC,EAAE,CAAC,EAAE;QAC1E,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,UAAU,IAAI,OAAO;QACvC,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,kBAAkB,OAAO;QAC3B,IAAI;YACA,MAAM,CACF,EAAE,MAAM,QAAQ,EAAE,EAClB,EAAE,MAAM,KAAK,EAAE,EACf,EAAE,MAAM,KAAK,EAAE,EACf,EAAE,OAAO,UAAU,EAAE,CACxB,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAClB,kIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,SAAS,KAAK,CAAC,QAAQ;oBAAE,WAAW;gBAAM,GAAG,KAAK,CAAC;gBACvG,kIAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,SAAS,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM,GAAG,KAAK,CAAC;gBAC1G,kIAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,SAAS,KAAK,CAAC,aAAa;oBAAE,WAAW;gBAAM,GAAG,KAAK,CAAC;gBACzG,kIAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK;oBAAE,OAAO;oBAAS,MAAM;gBAAK,GAAG,EAAE,CAAC,WAAW,SAAS,GAAG,CAAC,aAAa,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;aACpJ;YAED,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW;YACnG,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,UAAU,EAAE,CAAC,WAAW;YAEvF,MAAM,WAAW,aAAa,OAAO,CAAA,IAAK,EAAE,IAAI,KAAK,UAAU,OAAO,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,MAAM,GAAG,MAAM;YAChH,MAAM,WAAW,aAAa,OAAO,CAAA,IAAK,EAAE,IAAI,KAAK,WAAW,OAAO,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,MAAM,GAAG,MAAM;YACjH,MAAM,YAAY,UAAU,OAAO,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,UAAU;YAEvE,cAAc;gBACV,aAAa;gBACb,eAAe;gBACf,aAAa,CAAC,UAAU,UAAU,CAAC,IAAI;gBACvC,gBAAgB,UAAU,SAAS,KAAK,KAAK,CAAC,AAAC,YAAY,SAAS,MAAM,GAAI,OAAO;gBACrF,YAAY,cAAc;YAC9B;YAEA,kBAAkB,YAAY,EAAE;YAChC,eAAe,SAAS,EAAE;YAC1B,eAAe,SAAS,EAAE;QAC9B,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,yBAAyB,IAAI,OAAO;QACtD;IACJ;IAEA,MAAM,kBAAkB,OAAO;QAC3B,EAAE,cAAc;QAChB,SAAS;QACT,IAAI;YACA,2CAA2C;YAC3C,MAAM,EAAE,MAAM,KAAK,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,kIAAQ,CACrD,IAAI,CAAC,YACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM,YAAY,IAAI,IACzB,EAAE,CAAC,QAAQ,SACX,WAAW;YAEhB,IAAI,aAAa,MAAM;YAEvB,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,kIAAQ,CACtC,IAAI,CAAC,gBACL,MAAM,CAAC;gBAAC;oBAAE,WAAW,MAAM;oBAAI,UAAU,MAAM,EAAE;gBAAC;aAAE;YAEzD,IAAI,WAAW;gBACX,IAAI,UAAU,IAAI,KAAK,SAAS,MAAM,IAAI,MAAM;gBAChD,MAAM,IAAI,MAAM;YACpB;YAEA,eAAe;YACf;QACJ,EAAE,OAAO,KAAU;YACf,SAAS,IAAI,OAAO;QACxB;IACJ;IAEA,IAAI,SAAS,qBACT,8OAAC;QAAI,WAAU;;0BACX,8OAAC,4NAAO;gBAAC,WAAU;gBAAoB,MAAM;;;;;;0BAC7C,8OAAC;gBAAE,WAAU;0BAA8C;;;;;;;;;;;;IAInE,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAO,WAAU;;kCACd,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,gNAAM;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAGxB,8OAAC;gCAAG,WAAU;0CAAqC;;;;;;;;;;;;kCAGvD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,gNAAM;wCAAC,WAAU;wCAA+G,MAAM;;;;;;kDACvI,8OAAC;wCAAK,UAAU;kDACZ,cAAA,8OAAC;4CACG,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4CAC9C,WAAU;;;;;;;;;;;;;;;;;0CAItB,8OAAC;gCAAO,WAAU;;kDACd,8OAAC,0MAAI;wCAAC,MAAM;;;;;;kDACZ,8OAAC;wCAAK,WAAU;;;;;;;;;;;;0CAEpB,8OAAC;gCAAO,WAAU;0CACd,cAAA,8OAAC,sNAAQ;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;YAK3B,uBACG,8OAAC;gBAAI,WAAU;0BACV;;;;;;0BAIT,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAA6D;;;;;;kDAC3E,8OAAC,6MAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;;0CAG/B,8OAAC;gCAAI,WAAU;0CACV,SAAS,MAAM,KAAK,kBACjB,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;2CAG1C,SAAS,GAAG,CAAC,CAAC,sBACV,8OAAC;wCAEG,SAAS,IAAM,iBAAiB,MAAM,EAAE;wCACxC,WAAW,IAAA,yHAAE,EACT,iHACA,kBAAkB,MAAM,EAAE,GACpB,8EACA;;0DAGV,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAI,WAAW,IAAA,yHAAE,EACd,0FACA,kBAAkB,MAAM,EAAE,GAAG,gBAAgB;kEAE5C,MAAM,SAAS,CAAC,EAAE,CAAC,WAAW;;;;;;kEAEnC,8OAAC;wDAAI,WAAU;;0EACX,8OAAC;gEAAE,WAAU;0EAA6B,MAAM,SAAS;;;;;;0EACzD,8OAAC;gEAAE,WAAW,IAAA,yHAAE,EAAC,kDAAkD,kBAAkB,MAAM,EAAE,GAAG,oBAAoB;0EAAmB;;;;;;;;;;;;;;;;;;0DAG/I,8OAAC,gOAAU;gDAAC,MAAM;gDAAI,WAAW,IAAA,yHAAE,EAC/B,sCACA,kBAAkB,MAAM,EAAE,GAAG,8BAA8B;;;;;;;uCAvB1D,MAAM,EAAE;;;;;;;;;;;;;;;;kCAgCjC,8OAAC;wBAAI,WAAU;kCACV,iBAAiB,2BACd,8OAAC;4BAAI,WAAU;;8CAEX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAY,OAAM;4CAAkB,OAAO,IAAA,qIAAc,EAAC,WAAW,WAAW,GAAG,WAAW,aAAa;4CAAG,MAAM,sNAAQ;4CAAE,OAAM;4CAAkB,IAAG;;;;;;sDAC1J,8OAAC;4CAAY,OAAM;4CAAa,OAAO,IAAA,qIAAc,EAAC,WAAW,aAAa;4CAAG,MAAM,gNAAM;4CAAE,OAAM;4CAAgB,IAAG;;;;;;sDACxH,8OAAC;4CAAY,OAAM;4CAAQ,OAAO,WAAW,WAAW,CAAC,QAAQ;4CAAI,MAAM,qOAAY;4CAAE,OAAM;4CAAe,IAAG;;;;;;sDACjH,8OAAC;4CAAY,OAAM;4CAAa,OAAO,GAAG,WAAW,cAAc,CAAC,CAAC,CAAC;4CAAE,MAAM,gOAAU;4CAAE,OAAM;4CAAmB,IAAG;;;;;;sDACtH,8OAAC;4CAAY,OAAM;4CAAc,OAAO,WAAW,UAAU,CAAC,QAAQ;4CAAI,MAAM,sNAAQ;4CAAE,OAAM;4CAAiB,IAAG;;;;;;;;;;;;8CAIxH,8OAAC;oCAAI,WAAU;;sDAEX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC,gNAAM;gEAAC,MAAM;;;;;;;;;;;sEAElB,8OAAC;4DAAG,WAAU;sEAAqB;;;;;;;;;;;;8DAEvC,8OAAC;oDAAI,WAAU;8DACV,eAAe,MAAM,KAAK,kBACvB,8OAAC;wDAAE,WAAU;kEAAgC;;;;;+DAE7C,eAAe,GAAG,CAAC,CAAC,oBAChB,8OAAC;4DAAiB,WAAU;;8EACxB,8OAAC;;sFACG,8OAAC;4EAAE,WAAU;sFAA4B,IAAI,WAAW;;;;;;sFACxD,8OAAC;4EAAE,WAAU;;gFAAmE,IAAI,QAAQ;gFAAC;gFAAI,IAAA,iIAAU,EAAC,IAAI,IAAI;;;;;;;;;;;;;8EAExH,8OAAC;oEAAK,WAAW,IAAA,yHAAE,EAAC,cAAc,IAAI,IAAI,KAAK,WAAW,qBAAqB;;wEAC1E,IAAI,IAAI,KAAK,WAAW,MAAM;wEAAK,IAAA,qIAAc,EAAC,IAAI,MAAM;;;;;;;;2DAN3D,IAAI,EAAE;;;;;;;;;;;;;;;;sDAehC,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC,qOAAY;gEAAC,MAAM;;;;;;;;;;;sEAExB,8OAAC;4DAAG,WAAU;sEAAqB;;;;;;;;;;;;8DAEvC,8OAAC;oDAAI,WAAU;8DACV,YAAY,MAAM,KAAK,kBACpB,8OAAC;wDAAE,WAAU;kEAAgC;;;;;+DAE7C,YAAY,GAAG,CAAC,CAAC,qBACb,8OAAC;4DAAkB,WAAU;;8EACzB,8OAAC;;sFACG,8OAAC;4EAAE,WAAU;sFAA4B,KAAK,KAAK;;;;;;sFACnD,8OAAC;4EAAI,WAAU;;8FACX,8OAAC;oFAAK,WAAW,IAAA,yHAAE,EACf,4EACA,KAAK,MAAM,KAAK,SAAS,uCAAuC;8FAE/D,KAAK,MAAM;;;;;;8FAEhB,8OAAC;oFAAK,WAAU;;wFACX,KAAK,QAAQ;wFAAC;;;;;;;;;;;;;;;;;;;8EAI3B,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAE,WAAU;sFAAkE;;;;;;sFAC/E,8OAAC;4EAAE,WAAU;sFAAoC,IAAA,iIAAU,EAAC,KAAK,QAAQ;;;;;;;;;;;;;2DAjBvE,KAAK,EAAE;;;;;;;;;;;;;;;;sDA0BjC,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC,sNAAQ;gEAAC,MAAM;;;;;;;;;;;sEAEpB,8OAAC;4DAAG,WAAU;sEAAqB;;;;;;;;;;;;8DAEvC,8OAAC;oDAAI,WAAU;8DACV,YAAY,MAAM,KAAK,kBACpB,8OAAC;wDAAE,WAAU;kEAA8C;;;;;+DAE3D,YAAY,GAAG,CAAC,CAAC,qBACb,8OAAC;4DAAkB,WAAU;;8EACzB,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAK,WAAU;sFAAoE,KAAK,IAAI;;;;;;sFAC7F,8OAAC,6MAAK;4EAAC,MAAM;4EAAI,WAAU;;;;;;;;;;;;8EAE/B,8OAAC;oEAAE,WAAU;8EAAkC,KAAK,WAAW;;;;;;8EAC/D,8OAAC;oEAAE,WAAU;8EAAkE,IAAA,iIAAU,EAAC,KAAK,SAAS;;;;;;;2DANlG,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;8CAerC,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC,uMAAG;gDAAC,MAAM;gDAAK,WAAU;;;;;;;;;;;sDAE9B,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC,gOAAU;wDAAC,MAAM;;;;;;;;;;;8DAEtB,8OAAC;;sEACG,8OAAC;4DAAG,WAAU;sEAAqC;;;;;;sEACnD,8OAAC;4DAAE,WAAU;;gEAAiE;gEAAc,cAAc,KAAK,CAAC,GAAG;;;;;;;;;;;;;;;;;;;sDAI3H,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAU,OAAM;oDAAc,OAAM;oDAAO,QAAO;oDAAS,MAAM,gNAAM;;;;;;8DACxE,8OAAC;oDAAU,OAAM;oDAAa,OAAM;oDAAS,QAAO;oDAAU,MAAM,sNAAQ;;;;;;8DAC5E,8OAAC;oDAAU,OAAM;oDAAe,OAAM;oDAAS,QAAO;oDAAW,MAAM,qOAAY;oDAAE,OAAM;;;;;;;;;;;;sDAG/F,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,+NAAM;oDAAC,WAAU;oDAA8B,MAAM;;;;;;8DACtD,8OAAC;oDAAE,WAAU;;wDAA0C;sEAAgB,8OAAC;4DAAK,WAAU;sEAAwB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,gBAAgB;;;;;;wDAAiB;;;;;;;8DAC5K,8OAAC;oDAAO,WAAU;8DAAkM;;;;;;;;;;;;;;;;;;;;;;;iDAOhO,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,gNAAM;oCAAC,MAAM;oCAAI,WAAU;;;;;;8CAC5B,8OAAC;oCAAG,WAAU;8CAA2D;;;;;;8CACzE,8OAAC;oCAAE,WAAU;8CAA8C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvF;AAEA,SAAS,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,EAAE,EAAO;IAC7D,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAW,IAAA,yHAAE,EAAC,yHAAyH,IAAI;kCAC5I,cAAA,8OAAC;4BAAK,MAAM;;;;;;;;;;;kCAEhB,8OAAC;wBAAI,WAAU;kCAA2H;;;;;;;;;;;;0BAE9I,8OAAC;;kCACG,8OAAC;wBAAE,WAAU;kCAAyE;;;;;;kCACtF,8OAAC;wBAAG,WAAU;kCAAiG;;;;;;;;;;;;;;;;;;AAI/H;AAEA,SAAS,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,iBAAiB,EAAO;IACnF,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,MAAM;;;;;;kCACZ,8OAAC;wBAAE,WAAU;kCAAqD;;;;;;;;;;;;0BAEtE,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,WAAW,IAAA,yHAAE,EAAC,wCAAwC;kCAAS;;;;;;kCACrE,8OAAC;wBAAK,WAAU;;4BAAkE;4BAAG;;;;;;;;;;;;;;;;;;;AAIrG"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/app/%28dashboard%29/parent/page.tsx"],"sourcesContent":["'use client';\r\nimport ParentDashboard from \"../../../pages/ParentDashboard\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Page() {\r\n    const { profile, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && profile && profile.role !== 'parent') {\r\n            router.push('/');\r\n        }\r\n    }, [profile, loading, router]);\r\n\r\n    if (loading || (profile && profile.role !== 'parent')) return null;\r\n\r\n    return <ParentDashboard />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACpC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,WAAW,QAAQ,IAAI,KAAK,UAAU;YAClD,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAS;QAAS;KAAO;IAE7B,IAAI,WAAY,WAAW,QAAQ,IAAI,KAAK,UAAW,OAAO;IAE9D,qBAAO,8OAAC,2IAAe;;;;;AAC3B"}}]
}