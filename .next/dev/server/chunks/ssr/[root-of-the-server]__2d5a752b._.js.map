{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/components/ProtectedRoute.tsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n    const { user, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push('/login');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACtE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,MAAM;YACnB,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACT,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAG3B;IAEA,IAAI,CAAC,MAAM;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function formatDate(date: string | Date) {\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        year: 'numeric',\r\n    });\r\n}\r\n\r\nexport function formatCurrency(amount: number) {\r\n    return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: 'USD',\r\n    }).format(amount);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB;AAEO,SAAS,WAAW,IAAmB;IAC1C,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAC9C,OAAO;QACP,KAAK;QACL,MAAM;IACV;AACJ;AAEO,SAAS,eAAe,MAAc;IACzC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QAClC,OAAO;QACP,UAAU;IACd,GAAG,MAAM,CAAC;AACd"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport {\r\n    LayoutDashboard,\r\n    Receipt,\r\n    Utensils,\r\n    CheckSquare,\r\n    Calendar as CalendarIcon,\r\n    LogOut,\r\n    User\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { cn } from '../../lib/utils';\r\n\r\nconst navItems = [\r\n    { to: '/', icon: LayoutDashboard, label: 'Dashboard' },\r\n    { to: '/expenses', icon: Receipt, label: 'Expenses' },\r\n    { to: '/meals', icon: Utensils, label: 'Meals' },\r\n    { to: '/tasks', icon: CheckSquare, label: 'Tasks' },\r\n    { to: '/calendar', icon: CalendarIcon, label: 'Calendar' },\r\n];\r\n\r\nexport function Sidebar({ onNavClick }: { onNavClick?: () => void }) {\r\n    const { signOut, user } = useAuth();\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n\r\n    const handleSignOut = async () => {\r\n        await signOut();\r\n        router.push('/login');\r\n        if (onNavClick) onNavClick();\r\n    };\r\n\r\n    return (\r\n        <aside className=\"w-64 bg-card border-r border-border h-full flex flex-col\">\r\n            <div className=\"p-6 hidden lg:block\">\r\n                <Link href=\"/\" className=\"text-2xl font-bold text-primary flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground\">\r\n                        <LayoutDashboard size={20} />\r\n                    </div>\r\n                    Persnl\r\n                </Link>\r\n            </div>\r\n\r\n            <nav className=\"flex-1 px-4 py-6 lg:py-0 space-y-2\">\r\n                {navItems.map((item) => {\r\n                    const isActive = pathname === item.to;\r\n                    return (\r\n                        <Link\r\n                            key={item.to}\r\n                            href={item.to}\r\n                            onClick={onNavClick}\r\n                            className={cn(\r\n                                \"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors\",\r\n                                isActive\r\n                                    ? \"bg-primary text-primary-foreground\"\r\n                                    : \"text-muted-foreground hover:bg-accent hover:text-accent-foreground\"\r\n                            )}\r\n                        >\r\n                            <item.icon size={20} />\r\n                            <span className=\"font-medium\">{item.label}</span>\r\n                        </Link>\r\n                    )\r\n                })}\r\n            </nav>\r\n\r\n            <div className=\"p-4 border-t border-border\">\r\n                <div className=\"flex items-center gap-3 px-3 py-2 mb-4\">\r\n                    <div className=\"w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-secondary-foreground\">\r\n                        <User size={16} />\r\n                    </div>\r\n                    <div className=\"flex-1 overflow-hidden\">\r\n                        <p className=\"text-sm font-medium truncate\">{user?.email}</p>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={handleSignOut}\r\n                    className=\"flex items-center gap-3 px-3 py-2 w-full rounded-lg text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors\"\r\n                >\r\n                    <LogOut size={20} />\r\n                    <span className=\"font-medium\">Sign Out</span>\r\n                </button>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAbA;;;;;;;AAeA,MAAM,WAAW;IACb;QAAE,IAAI;QAAK,MAAM,+OAAe;QAAE,OAAO;IAAY;IACrD;QAAE,IAAI;QAAa,MAAM,mNAAO;QAAE,OAAO;IAAW;IACpD;QAAE,IAAI;QAAU,MAAM,sNAAQ;QAAE,OAAO;IAAQ;IAC/C;QAAE,IAAI;QAAU,MAAM,0OAAW;QAAE,OAAO;IAAQ;IAClD;QAAE,IAAI;QAAa,MAAM,sNAAY;QAAE,OAAO;IAAW;CAC5D;AAEM,SAAS,QAAQ,EAAE,UAAU,EAA+B;IAC/D,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,gBAAgB;QAClB,MAAM;QACN,OAAO,IAAI,CAAC;QACZ,IAAI,YAAY;IACpB;IAEA,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACrB,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,+OAAe;gCAAC,MAAM;;;;;;;;;;;wBACrB;;;;;;;;;;;;0BAKd,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAC;oBACX,MAAM,WAAW,aAAa,KAAK,EAAE;oBACrC,qBACI,8OAAC,uKAAI;wBAED,MAAM,KAAK,EAAE;wBACb,SAAS;wBACT,WAAW,IAAA,yHAAE,EACT,kEACA,WACM,uCACA;;0CAGV,8OAAC,KAAK,IAAI;gCAAC,MAAM;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAe,KAAK,KAAK;;;;;;;uBAXpC,KAAK,EAAE;;;;;gBAcxB;;;;;;0BAGJ,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,0MAAI;oCAAC,MAAM;;;;;;;;;;;0CAEhB,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAE,WAAU;8CAAgC,MAAM;;;;;;;;;;;;;;;;;kCAG3D,8OAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,8OAAC,oNAAM;gCAAC,MAAM;;;;;;0CACd,8OAAC;gCAAK,WAAU;0CAAc;;;;;;;;;;;;;;;;;;;;;;;;AAKlD"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/components/layout/MainLayout.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Sidebar } from './Sidebar';\r\nimport { Menu, X, LayoutDashboard } from 'lucide-react';\r\n\r\nexport function MainLayout({ children }: { children: React.ReactNode }) {\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen bg-background text-foreground\">\r\n            {/* Sidebar - Desktop */}\r\n            <div className=\"hidden lg:block\">\r\n                <Sidebar />\r\n            </div>\r\n\r\n            {/* Sidebar - Mobile Overlay */}\r\n            {isSidebarOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-40 lg:hidden\"\r\n                    onClick={() => setIsSidebarOpen(false)}\r\n                />\r\n            )}\r\n            <div className={cn(\r\n                \"fixed inset-y-0 left-0 z-50 w-64 bg-card transform transition-transform duration-300 ease-in-out lg:hidden\",\r\n                isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\r\n            )}>\r\n                <Sidebar onNavClick={() => setIsSidebarOpen(false)} />\r\n                <button\r\n                    onClick={() => setIsSidebarOpen(false)}\r\n                    className=\"absolute top-4 right-4 p-2 hover:bg-accent rounded-lg lg:hidden\"\r\n                >\r\n                    <X size={20} />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Main Content Area */}\r\n            <div className=\"flex-1 flex flex-col min-w-0\">\r\n                {/* Mobile Header */}\r\n                <header className=\"lg:hidden h-16 border-b border-border bg-card flex items-center justify-between px-4 sticky top-0 z-30\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground\">\r\n                            <LayoutDashboard size={18} />\r\n                        </div>\r\n                        <span className=\"font-bold text-lg\">Persnl</span>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => setIsSidebarOpen(true)}\r\n                        className=\"p-2 hover:bg-accent rounded-lg\"\r\n                    >\r\n                        <Menu size={24} />\r\n                    </button>\r\n                </header>\r\n\r\n                <main className=\"flex-1 overflow-auto\">\r\n                    <div className=\"max-w-7xl mx-auto p-4 md:p-8\">\r\n                        {children}\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction cn(...inputs: any[]) {\r\n    return inputs.filter(Boolean).join(' ');\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;;;;;AAEO,SAAS,WAAW,EAAE,QAAQ,EAAiC;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,kJAAO;;;;;;;;;;YAIX,+BACG,8OAAC;gBACG,WAAU;gBACV,SAAS,IAAM,iBAAiB;;;;;;0BAGxC,8OAAC;gBAAI,WAAW,GACZ,8GACA,gBAAgB,kBAAkB;;kCAElC,8OAAC,kJAAO;wBAAC,YAAY,IAAM,iBAAiB;;;;;;kCAC5C,8OAAC;wBACG,SAAS,IAAM,iBAAiB;wBAChC,WAAU;kCAEV,cAAA,8OAAC,iMAAC;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAKjB,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAO,WAAU;;0CACd,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,+OAAe;4CAAC,MAAM;;;;;;;;;;;kDAE3B,8OAAC;wCAAK,WAAU;kDAAoB;;;;;;;;;;;;0CAExC,8OAAC;gCACG,SAAS,IAAM,iBAAiB;gCAChC,WAAU;0CAEV,cAAA,8OAAC,0MAAI;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAIpB,8OAAC;wBAAK,WAAU;kCACZ,cAAA,8OAAC;4BAAI,WAAU;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAMzB;AAEA,SAAS,GAAG,GAAG,MAAa;IACxB,OAAO,OAAO,MAAM,CAAC,SAAS,IAAI,CAAC;AACvC"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/hooks/useTaskNotifications.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { isBefore, subMinutes } from 'date-fns';\r\n\r\nexport function useTaskNotifications() {\r\n    const { user } = useAuth();\r\n    const intervalRef = useRef<number | null>(null);\r\n\r\n    const requestPermission = async () => {\r\n        if (!(\"Notification\" in window)) {\r\n            console.warn(\"This browser does not support desktop notifications\");\r\n            return;\r\n        }\r\n\r\n        if (Notification.permission !== \"granted\" && Notification.permission !== \"denied\") {\r\n            await Notification.requestPermission();\r\n        }\r\n    };\r\n\r\n    const checkTasks = async () => {\r\n        if (!user) return;\r\n\r\n        try {\r\n            const { data: tasks, error } = await supabase\r\n                .from('tasks')\r\n                .select('*')\r\n                .eq('status', 'todo')\r\n                .eq('notified', false)\r\n                .not('due_date', 'is', null);\r\n\r\n            if (error) throw error;\r\n\r\n            const now = new Date();\r\n\r\n            for (const task of tasks || []) {\r\n                const dueDate = new Date(task.due_date);\r\n                const alertTime = subMinutes(dueDate, task.alert_before_minutes || 60);\r\n\r\n                if (isBefore(alertTime, now)) {\r\n                    // Send notification\r\n                    if (Notification.permission === \"granted\") {\r\n                        new Notification(\"Task Deadline Approaching!\", {\r\n                            body: `\"${task.title}\" is due in ${task.alert_before_minutes} minutes.`,\r\n                            icon: '/vite.svg'\r\n                        });\r\n                    }\r\n\r\n                    // Mark as notified in DB\r\n                    await supabase\r\n                        .from('tasks')\r\n                        .update({ notified: true })\r\n                        .eq('id', task.id);\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error checking tasks for notifications:\", err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        requestPermission();\r\n\r\n        // Check every minute\r\n        intervalRef.current = window.setInterval(checkTasks, 60000);\r\n        // Also check immediately\r\n        checkTasks();\r\n\r\n        return () => {\r\n            if (intervalRef.current) clearInterval(intervalRef.current);\r\n        };\r\n    }, [user]);\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEO,SAAS;IACZ,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACxB,MAAM,cAAc,IAAA,+MAAM,EAAgB;IAE1C,MAAM,oBAAoB;QACtB,IAAI,CAAC,CAAC,kBAAkB,MAAM,GAAG;YAC7B,QAAQ,IAAI,CAAC;YACb;QACJ;QAEA,IAAI,aAAa,UAAU,KAAK,aAAa,aAAa,UAAU,KAAK,UAAU;YAC/E,MAAM,aAAa,iBAAiB;QACxC;IACJ;IAEA,MAAM,aAAa;QACf,IAAI,CAAC,MAAM;QAEX,IAAI;YACA,MAAM,EAAE,MAAM,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACxC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,UAAU,QACb,EAAE,CAAC,YAAY,OACf,GAAG,CAAC,YAAY,MAAM;YAE3B,IAAI,OAAO,MAAM;YAEjB,MAAM,MAAM,IAAI;YAEhB,KAAK,MAAM,QAAQ,SAAS,EAAE,CAAE;gBAC5B,MAAM,UAAU,IAAI,KAAK,KAAK,QAAQ;gBACtC,MAAM,YAAY,IAAA,uJAAU,EAAC,SAAS,KAAK,oBAAoB,IAAI;gBAEnE,IAAI,IAAA,mJAAQ,EAAC,WAAW,MAAM;oBAC1B,oBAAoB;oBACpB,IAAI,aAAa,UAAU,KAAK,WAAW;wBACvC,IAAI,aAAa,8BAA8B;4BAC3C,MAAM,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,YAAY,EAAE,KAAK,oBAAoB,CAAC,SAAS,CAAC;4BACvE,MAAM;wBACV;oBACJ;oBAEA,yBAAyB;oBACzB,MAAM,kIAAQ,CACT,IAAI,CAAC,SACL,MAAM,CAAC;wBAAE,UAAU;oBAAK,GACxB,EAAE,CAAC,MAAM,KAAK,EAAE;gBACzB;YACJ;QACJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,2CAA2C;QAC7D;IACJ;IAEA,IAAA,kNAAS,EAAC;QACN;QAEA,qBAAqB;QACrB,YAAY,OAAO,GAAG,OAAO,WAAW,CAAC,YAAY;QACrD,yBAAyB;QACzB;QAEA,OAAO;YACH,IAAI,YAAY,OAAO,EAAE,cAAc,YAAY,OAAO;QAC9D;IACJ,GAAG;QAAC;KAAK;AACb"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport { ProtectedRoute } from \"../../components/ProtectedRoute\";\r\nimport { MainLayout } from \"../../components/layout/MainLayout\";\r\nimport { useTaskNotifications } from \"../../hooks/useTaskNotifications\";\r\n\r\nfunction ProtectedWrapper({ children }: { children: React.ReactNode }) {\r\n    const { user, loading } = useAuth();\r\n    useTaskNotifications();\r\n\r\n    if (loading) return null;\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <MainLayout>\r\n            {children}\r\n        </MainLayout>\r\n    );\r\n}\r\n\r\nexport default function DashboardLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    return (\r\n        <ProtectedRoute>\r\n            <ProtectedWrapper>{children}</ProtectedWrapper>\r\n        </ProtectedRoute>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IACjE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,IAAA,4JAAoB;IAEpB,IAAI,SAAS,OAAO;IACpB,IAAI,CAAC,MAAM,OAAO;IAElB,qBACI,8OAAC,wJAAU;kBACN;;;;;;AAGb;AAEe,SAAS,gBAAgB,EACpC,QAAQ,EAGX;IACG,qBACI,8OAAC,sJAAc;kBACX,cAAA,8OAAC;sBAAkB;;;;;;;;;;;AAG/B"}}]
}