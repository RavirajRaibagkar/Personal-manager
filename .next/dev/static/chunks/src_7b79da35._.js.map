{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/pages/CalendarPage.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport { supabase } from '../lib/supabase';\r\nimport {\r\n    Receipt,\r\n    Utensils,\r\n    CheckSquare\r\n} from 'lucide-react';\r\n\r\nexport default function CalendarPage() {\r\n    const [events, setEvents] = useState<any[]>([]);\r\n\r\n    useEffect(() => {\r\n        fetchAllEvents();\r\n    }, []);\r\n\r\n    const fetchAllEvents = async () => {\r\n        try {\r\n            // Fetch Expenses\r\n            const { data: expenses } = await supabase.from('expenses').select('*');\r\n            // Fetch Meals\r\n            const { data: meals } = await supabase.from('meals').select('*');\r\n            // Fetch Tasks\r\n            const { data: tasks } = await supabase.from('tasks').select('*');\r\n\r\n            const formattedEvents = [\r\n                ...(expenses?.map(e => ({\r\n                    id: e.id,\r\n                    title: `$${e.amount} - ${e.category}`,\r\n                    start: e.date,\r\n                    backgroundColor: '#ef4444',\r\n                    borderColor: '#ef4444',\r\n                    extendedProps: { type: 'expense', note: e.note }\r\n                })) || []),\r\n                ...(meals?.map(m => ({\r\n                    id: m.id,\r\n                    title: `Meal: ${m.meal_type}`,\r\n                    start: m.timestamp,\r\n                    backgroundColor: '#f59e0b',\r\n                    borderColor: '#f59e0b',\r\n                    extendedProps: { type: 'meal', note: m.notes }\r\n                })) || []),\r\n                ...(tasks?.map(t => ({\r\n                    id: t.id,\r\n                    title: t.title,\r\n                    start: t.due_date,\r\n                    backgroundColor: '#3b82f6',\r\n                    borderColor: '#3b82f6',\r\n                    extendedProps: { type: 'task', priority: t.priority }\r\n                })) || [])\r\n            ];\r\n\r\n            setEvents(formattedEvents.filter(e => e.start));\r\n        } catch (error) {\r\n            console.error('Error fetching calendar events:', error);\r\n        }\r\n    };\r\n\r\n    const renderEventContent = (eventInfo: any) => {\r\n        const type = eventInfo.event.extendedProps.type;\r\n        return (\r\n            <div className=\"flex items-center gap-1 p-1 overflow-hidden\">\r\n                {type === 'expense' && <Receipt size={12} />}\r\n                {type === 'meal' && <Utensils size={12} />}\r\n                {type === 'task' && <CheckSquare size={12} />}\r\n                <span className=\"truncate text-[11px] font-medium leading-tight\">\r\n                    {eventInfo.event.title}\r\n                </span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6 max-h-[calc(100vh-100px)]\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold tracking-tight\">Calendar</h2>\r\n                    <p className=\"text-muted-foreground\">Panoramic view of your activities.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-card p-6 rounded-2xl border border-border shadow-md\">\r\n                <style>{`\r\n          .fc { --fc-border-color: hsl(var(--border)); --fc-button-bg-color: hsl(var(--primary)); --fc-button-border-color: hsl(var(--primary)); --fc-button-hover-bg-color: hsl(var(--primary) / 0.9); --fc-button-hover-border-color: hsl(var(--primary) / 0.9); --fc-button-active-bg-color: hsl(var(--primary)); --fc-button-active-border-color: hsl(var(--primary)); }\r\n          .fc .fc-toolbar-title { font-size: 1.25rem; font-weight: 700; color: hsl(var(--foreground)); }\r\n          .fc .fc-col-header-cell-cushion { font-size: 0.875rem; font-weight: 600; padding: 12px 0; color: hsl(var(--muted-foreground)); text-transform: uppercase; }\r\n          .fc .fc-daygrid-day-number { font-size: 0.875rem; padding: 8px; color: hsl(var(--foreground)); }\r\n          .fc .fc-event { border-radius: 6px; padding: 0; cursor: pointer; transition: opacity 0.2s; }\r\n          .fc .fc-event:hover { opacity: 0.8; }\r\n          .fc .fc-day-today { background: hsl(var(--primary) / 0.03) !important; }\r\n        `}</style>\r\n                <FullCalendar\r\n                    plugins={[dayGridPlugin, interactionPlugin]}\r\n                    initialView=\"dayGridMonth\"\r\n                    events={events}\r\n                    eventContent={renderEventContent}\r\n                    headerToolbar={{\r\n                        left: 'prev,next today',\r\n                        center: 'title',\r\n                        right: 'dayGridMonth,dayGridWeek'\r\n                    }}\r\n                    height=\"auto\"\r\n                    dayMaxEvents={3}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex gap-6 flex-wrap mt-4\">\r\n                <LegendItem label=\"Expenses\" color=\"#ef4444\" />\r\n                <LegendItem label=\"Meals\" color=\"#f59e0b\" />\r\n                <LegendItem label=\"Tasks\" color=\"#3b82f6\" />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction LegendItem({ label, color }: { label: string; color: string }) {\r\n    return (\r\n        <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: color }} />\r\n            <span className=\"text-sm text-muted-foreground font-medium\">{label}</span>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Persnl/src/app/%28dashboard%29/calendar/page.tsx"],"sourcesContent":["'use client';\r\nimport CalendarPage from \"../../../pages/CalendarPage\";\r\nexport default function Page() {\r\n    return <CalendarPage />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAEe,SAAS;IACpB,qBAAO,6LAAC,2IAAY;;;;;AACxB;KAFwB"}}]
}