(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},7233,27612,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},73830,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7471),s=e.i(7233),i=e.i(95468),l=e.i(75254);let d=(0,l.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),n=(0,l.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=e.i(27612),c=e.i(63209);let u=(0,l.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var m=e.i(75157),x=e.i(32341);function p(){let e=(0,x.useAuth)(),l=e?.user,[p,h]=(0,r.useState)([]),[g,b]=(0,r.useState)(!0),[y,f]=(0,r.useState)(!1),[v,j]=(0,r.useState)({title:"",description:"",status:"todo",priority:"medium",due_date:"",alert_before_minutes:60});(0,r.useEffect)(()=>{N()},[]);let N=async()=>{let{data:e}=await a.supabase.from("tasks").select("*").order("created_at",{ascending:!1});e&&h(e),b(!1)},k=async e=>{if(e.preventDefault(),!l)return;let{error:t}=await a.supabase.from("tasks").insert([{...v,user_id:l.id,due_date:v.due_date?new Date(v.due_date).toISOString():null,notified:!1}]);t||(f(!1),j({title:"",description:"",status:"todo",priority:"medium",due_date:"",alert_before_minutes:60}),N())},w=async(e,t)=>{let{error:r}=await a.supabase.from("tasks").update({status:"done"===t?"todo":"done"}).eq("id",e);r||N()},_=async e=>{let{error:t}=await a.supabase.from("tasks").delete().eq("id",e);t||N()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Tasks"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your daily to-dos and priorities."})]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl font-semibold hover:bg-primary/90 transition-all shadow-lg shadow-primary/20 active:scale-95",children:[(0,t.jsx)(s.Plus,{size:20}),"Add Task"]})]}),y&&(0,t.jsx)("div",{className:"bg-card p-6 rounded-2xl border border-border shadow-xl animate-in fade-in zoom-in duration-200",children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,t.jsx)("input",{required:!0,value:v.title,onChange:e=>j({...v,title:e.target.value}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",placeholder:"Task title..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Due Date"}),(0,t.jsx)("input",{type:"datetime-local",value:v.due_date,onChange:e=>j({...v,due_date:e.target.value}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(u,{size:14,className:"text-primary"}),"Alert Before (Minutes)"]}),(0,t.jsxs)("select",{value:v.alert_before_minutes,onChange:e=>j({...v,alert_before_minutes:parseInt(e.target.value)}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",children:[(0,t.jsx)("option",{value:15,children:"15 Minutes"}),(0,t.jsx)("option",{value:30,children:"30 Minutes"}),(0,t.jsx)("option",{value:60,children:"1 Hour"}),(0,t.jsx)("option",{value:120,children:"2 Hours"}),(0,t.jsx)("option",{value:1440,children:"1 Day"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,t.jsxs)("select",{value:v.priority,onChange:e=>j({...v,priority:e.target.value}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,t.jsxs)("select",{value:v.status,onChange:e=>j({...v,status:e.target.value}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",children:[(0,t.jsx)("option",{value:"todo",children:"Todo"}),(0,t.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,t.jsx)("option",{value:"done",children:"Done"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)("textarea",{value:v.description,onChange:e=>j({...v,description:e.target.value}),className:"w-full px-4 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all min-h-[100px]",placeholder:"Optional description..."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-2.5 text-muted-foreground hover:bg-accent rounded-xl transition-all font-medium",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-6 py-2.5 bg-primary text-primary-foreground rounded-xl font-bold hover:bg-primary/90 transition-all shadow-md active:scale-95",children:"Save Task"})]})]})}),(0,t.jsx)("div",{className:"grid gap-3 md:gap-4",children:g?(0,t.jsx)("div",{className:"text-center p-12 text-muted-foreground",children:"Loading..."}):0===p.length?(0,t.jsx)("div",{className:"text-center p-12 bg-card rounded-2xl border border-dashed border-border text-muted-foreground text-sm",children:"No tasks yet. Start by adding one!"}):p.map(e=>(0,t.jsxs)("div",{className:"group bg-card p-4 md:p-5 rounded-2xl border border-border shadow-sm hover:shadow-md active:bg-accent/30 transition-all flex items-start gap-3 md:gap-4",children:[(0,t.jsx)("button",{onClick:()=>w(e.id,e.status),className:(0,m.cn)("mt-1 p-0.5 rounded-full transition-all shrink-0","done"===e.status?"text-emerald-500 bg-emerald-500/10":"text-muted-foreground hover:text-primary hover:bg-primary/10"),children:"done"===e.status?(0,t.jsx)(i.CheckCircle2,{size:22}):(0,t.jsx)(d,{size:22})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:(0,m.cn)("font-bold text-base tracking-tight truncate","done"===e.status&&"line-through text-muted-foreground font-medium"),children:e.title}),(0,t.jsx)("span",{className:(0,m.cn)("text-[9px] uppercase font-black px-2 py-0.5 rounded-full tracking-tighter border","high"===e.priority?"bg-red-500/10 text-red-500 border-red-500/20":"medium"===e.priority?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"),children:e.priority})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 md:line-clamp-none mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-[11px] md:text-xs text-muted-foreground font-medium",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(n,{size:14,className:"text-primary/70"}),e.due_date?new Date(e.due_date).toLocaleString([],{dateStyle:"medium",timeStyle:"short"}):"No deadline"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 capitalize",children:[(0,t.jsx)(c.AlertCircle,{size:14,className:"text-primary/70"}),e.status.replace("-"," ")]}),e.alert_before_minutes&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-primary",children:[(0,t.jsx)(u,{size:14}),"Alert ",e.alert_before_minutes>=60?`${e.alert_before_minutes/60}h`:`${e.alert_before_minutes}m`," before"]})]})]}),(0,t.jsx)("div",{className:"transition-opacity",children:(0,t.jsx)("button",{onClick:()=>_(e.id),className:"p-2 text-muted-foreground hover:text-destructive active:bg-destructive/10 rounded-xl transition-all",children:(0,t.jsx)(o.Trash2,{size:18})})})]},e.id))})]})}function h(){return(0,t.jsx)(p,{})}e.s(["default",()=>h],73830)}]);