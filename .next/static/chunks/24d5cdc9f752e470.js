(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var r=e.i(71645);let t=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:o="",children:n,iconNode:d,...c},u)=>(0,r.createElement)("svg",{ref:u,...i,width:a,height:a,stroke:e,strokeWidth:l?24*Number(s)/Number(a):s,className:t("lucide",o),...!n&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),l=(e,i)=>{let l=(0,r.forwardRef)(({className:l,...o},n)=>(0,r.createElement)(s,{ref:n,iconNode:i,className:t(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=a(e),l};e.s(["default",()=>l],75254)},18566,(e,r,t)=>{r.exports=e.r(76562)},31278,e=>{"use strict";let r=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},60289,e=>{"use strict";let r=(0,e.i(75254).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["LayoutDashboard",()=>r],60289)},94542,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),i=e.i(7471),s=e.i(60289),l=e.i(75254);let o=(0,l.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),n=(0,l.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=e.i(31278);function c(){let[e,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),[x,f]=(0,t.useState)("child"),w=(0,a.useRouter)(),v=async r=>{r.preventDefault(),h(!0),b(null);try{if(p){let{data:r,error:t}=await i.supabase.auth.signUp({email:e,password:c,options:{data:{role:x}}});if(t)throw t;if(r.user){let{error:t}=await i.supabase.from("profiles").insert([{id:r.user.id,full_name:e.split("@")[0],role:x}]);if(t)throw t}alert("Check your email for confirmation link!")}else{let{error:r}=await i.supabase.auth.signInWithPassword({email:e,password:c});if(r)throw r;w.push("/")}}catch(e){b(e.message)}finally{h(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-card p-8 rounded-2xl shadow-lg border border-border",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl text-primary-foreground mb-4",children:(0,r.jsx)(s.LayoutDashboard,{size:32})}),(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:p?"Create an account":"Welcome back"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:p?"Sign up to start managing your life":"Sign in to access your dashboard"})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:v,children:[y&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 text-destructive text-sm font-medium",children:y}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,r.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"Email address"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,r.jsx)("input",{type:"password",required:!0,value:c,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"Password"})]}),p&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>f("child"),className:`py-2 px-4 rounded-lg border transition-all ${"child"===x?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:border-primary"}`,children:"Child Account"}),(0,r.jsx)("button",{type:"button",onClick:()=>f("parent"),className:`py-2 px-4 rounded-lg border transition-all ${"parent"===x?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:border-primary"}`,children:"Parent Account"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center py-3 px-4 rounded-lg bg-primary text-primary-foreground font-semibold hover:bg-primary/90 transition-colors disabled:opacity-50",children:m?(0,r.jsx)(d.Loader2,{className:"animate-spin",size:20}):p?"Sign Up":"Sign In"})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{onClick:()=>{g(!p),b(null)},className:"text-sm text-primary hover:underline font-medium",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}function u(){return(0,r.jsx)(c,{})}e.s(["default",()=>u],94542)}]);