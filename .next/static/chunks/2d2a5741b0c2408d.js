(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,27612,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},25652,52754,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>r],25652);let a=(0,t.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>a],52754)},43034,e=>{"use strict";let t=(0,e.i(75254).default)("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);e.s(["ArrowUpCircle",()=>t],43034)},84577,e=>{"use strict";let t=(0,e.i(75254).default)("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);e.s(["ArrowDownCircle",()=>t],84577)},59280,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7471),s=e.i(7233),n=e.i(27612),d=e.i(87316),l=e.i(75254);let i=(0,l.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),o=(0,l.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var c=e.i(25652),x=e.i(52754),m=e.i(43034),u=e.i(84577),p=e.i(75157),h=e.i(32341);function g(){let e=(0,h.useAuth)(),l=e?.user,[g,b]=(0,r.useState)([]),[f,j]=(0,r.useState)(!0),[v,N]=(0,r.useState)(!1),[k,w]=(0,r.useState)({amount:"",type:"expense",category:"Food",note:"",date:new Date().toISOString().split("T")[0]}),C="expense"===k.type?["Food","Transport","Entertainment","Bills","Shopping","Health","Education","Rent","Other"]:["Salary","Freelance","Investment","Gift","Refund","Other"];(0,r.useEffect)(()=>{S()},[]);let S=async()=>{let{data:e}=await a.supabase.from("expenses").select("*").order("date",{ascending:!1});e&&b(e),j(!1)},M=async e=>{if(e.preventDefault(),!l)return;let{error:t}=await a.supabase.from("expenses").insert([{...k,amount:parseFloat(k.amount),user_id:l.id}]);t||(N(!1),w({amount:"",type:"expense",category:"Food",note:"",date:new Date().toISOString().split("T")[0]}),S())},T=async e=>{let{error:t}=await a.supabase.from("expenses").delete().eq("id",e);t||S()},A=g.reduce((e,t)=>("income"===t.type?e.income+=Number(t.amount):e.expenses+=Number(t.amount),e),{income:0,expenses:0});return(0,t.jsxs)("div",{className:"space-y-6 max-w-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Finances"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Monitor your income and expenses."})]}),(0,t.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl font-semibold hover:bg-primary/90 transition-all shadow-lg shadow-primary/20 active:scale-95",children:[(0,t.jsx)(s.Plus,{size:20}),"Add Record"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(y,{title:"Total Income",value:(0,p.formatCurrency)(A.income),icon:m.ArrowUpCircle,color:"text-emerald-500 bg-emerald-500/10"}),(0,t.jsx)(y,{title:"Total Expenses",value:(0,p.formatCurrency)(A.expenses),icon:u.ArrowDownCircle,color:"text-red-500 bg-red-500/10"}),(0,t.jsx)(y,{title:"Balance",value:(0,p.formatCurrency)(A.income-A.expenses),icon:x.Wallet,color:"text-primary bg-primary/10"})]}),v&&(0,t.jsx)("div",{className:"bg-card p-4 md:p-6 rounded-2xl border border-border shadow-xl animate-in fade-in zoom-in duration-200",children:(0,t.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex p-1 bg-muted rounded-xl w-full max-w-[300px]",children:[(0,t.jsx)("button",{type:"button",onClick:()=>w({...k,type:"expense",category:"Food"}),className:(0,p.cn)("flex-1 py-2 text-sm font-bold rounded-lg transition-all","expense"===k.type?"bg-card text-red-500 shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Expense"}),(0,t.jsx)("button",{type:"button",onClick:()=>w({...k,type:"income",category:"Salary"}),className:(0,p.cn)("flex-1 py-2 text-sm font-bold rounded-lg transition-all","income"===k.type?"bg-card text-emerald-500 shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Income"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Amount"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),(0,t.jsx)("input",{type:"number",step:"0.01",required:!0,value:k.amount,onChange:e=>w({...k,amount:e.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all font-bold",placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,t.jsx)("select",{value:k.category,onChange:e=>w({...k,category:e.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",children:C.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Date"}),(0,t.jsx)("input",{type:"date",required:!0,value:k.date,onChange:e=>w({...k,date:e.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Note"}),(0,t.jsx)("input",{value:k.note,onChange:e=>w({...k,note:e.target.value}),className:"w-full px-3 py-2.5 bg-background border border-border rounded-xl focus:ring-2 focus:ring-primary outline-none transition-all",placeholder:"Optional description..."})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[(0,t.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-6 py-2.5 text-muted-foreground hover:bg-accent rounded-xl transition-all font-medium",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:(0,p.cn)("px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-md active:scale-95","expense"===k.type?"bg-red-500 hover:bg-red-600":"bg-emerald-500 hover:bg-emerald-600"),children:["Save ",k.type]})]})]})}),(0,t.jsxs)("div",{className:"bg-card rounded-2xl border border-border shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-muted/50 border-b border-border text-xs font-black uppercase tracking-widest text-muted-foreground",children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Note"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:f?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground",children:"Loading..."})}):0===g.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground text-sm italic",children:"No transactions recorded yet."})}):g.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-accent/30 transition-all group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,p.formatDate)(e.date)}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:(0,p.cn)("inline-flex items-center gap-1.5 px-3 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider border","income"===e.type?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"),children:e.category})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-muted-foreground truncate block max-w-[200px]",children:e.note||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:(0,p.cn)("text-sm font-black flex items-center justify-end gap-1.5","income"===e.type?"text-emerald-500":"text-red-500"),children:["income"===e.type?(0,t.jsx)(c.TrendingUp,{size:14}):(0,t.jsx)(o,{size:14}),(0,p.formatCurrency)(e.amount)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>T(e.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-lg transition-all",children:(0,t.jsx)(n.Trash2,{size:16})})})]},e.id))})]})}),(0,t.jsx)("div",{className:"md:hidden divide-y divide-border",children:f?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm font-bold",children:"Loading..."}):0===g.length?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm italic",children:"No transactions yet."}):g.map(e=>(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between gap-4 hover:bg-accent/10 transition-colors",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:(0,p.cn)("text-[10px] font-black uppercase tracking-widest mb-0.5 px-2 py-0.5 rounded-full border self-start","income"===e.type?"text-emerald-500 border-emerald-500/20 bg-emerald-500/10":"text-red-500 border-red-500/20 bg-red-500/10"),children:e.category}),(0,t.jsxs)("span",{className:"text-[11px] text-muted-foreground font-medium flex items-center gap-1 mt-1",children:[(0,t.jsx)(d.Calendar,{size:10}),(0,p.formatDate)(e.date)]}),e.note&&(0,t.jsx)("p",{className:"text-xs text-foreground/70 mt-1 truncate max-w-[150px]",children:e.note})]})}),(0,t.jsxs)("div",{className:"text-right flex flex-col items-end gap-2 shrink-0",children:[(0,t.jsxs)("div",{className:(0,p.cn)("text-sm font-black flex items-center gap-1","income"===e.type?"text-emerald-500":"text-red-500"),children:["income"===e.type?"+":"-"," ",(0,p.formatCurrency)(e.amount)]}),(0,t.jsx)("button",{onClick:()=>T(e.id),className:"p-1.5 text-muted-foreground active:text-destructive active:bg-destructive/10 rounded-lg transition-all",children:(0,t.jsx)(n.Trash2,{size:14})})]})]},e.id))})]})]})}function y({title:e,value:r,icon:a,color:s}){return(0,t.jsxs)("div",{className:"bg-card p-4 rounded-2xl border border-border flex items-center gap-3 transition-all",children:[(0,t.jsx)("div",{className:(0,p.cn)("p-2 rounded-xl shrink-0 scale-90 md:scale-100",s),children:(0,t.jsx)(a,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] md:text-xs font-black text-muted-foreground uppercase tracking-wider mb-0.5",children:e}),(0,t.jsx)("h4",{className:"text-lg md:text-xl font-black tracking-tight",children:r})]})]})}function b(){return(0,t.jsx)(g,{})}e.s(["default",()=>b],59280)}]);